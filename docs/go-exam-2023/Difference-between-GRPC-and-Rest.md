<!--yml

分类：未分类

日期：2024-10-13 06:34:28

-->

# GRPC 与 REST 的区别

> 来源：[`golangbyexample.com/grpc-vs-rest/`](https://golangbyexample.com/grpc-vs-rest/)

![grpc vs rest](img/c28f96def0a2c19e95044c79b4fafe24.png)

目录

+   概述

+   链接

    +   GRPC

    +   REST

+   协议

+   性质

+   数据传输模式

+   模型

+   性能

+   代码生成

+   类型安全

+   设置

+   何时使用

+   结论

## **概述**

REST 是一种建立在 HTTP/1 上的架构风格。GRPC 不是一种风格，而是一个建立在 HTTP/2 之上的 RPC 框架，并在后台使用协议缓冲区。因此，GRPC 实际上是一个实现，或者可以说是一个库，而 REST 只是一组规则和原则。

虽然我们在比较一个实现的 GRPC 框架与 REST（架构风格和原则），这听起来可能有些奇怪，但理解高层架构的区别仍然很重要，这一点如果你遵循某种方法而非另一种方法会更加明显。

这里是两者之间的主要区别。此外，值得一提的是，本文假设你已经对 GRPC、HTTP2 和 REST 有一定了解。

## 链接

### **GRPC**

这里是关于 GRPC 的进一步阅读链接 [`grpc.io/`](https://grpc.io/)

### **REST**

这里是关于 REST 的进一步阅读链接 – [`en.wikipedia.org/wiki/Representational_state_transfer`](https://en.wikipedia.org/wiki/Representational_state_transfer)

## **协议**

+   GRPC 是一个 RPC 框架，构建在 HTTP/2 之上。

+   REST 架构风格是在 HTTP/1 之上指定的。HTTP/2 保留了 HTTP/1.1 的所有语义。因此，即使使用 HTTP/2，REST API 仍应继续正常工作。

## **性质**

+   GRPC 的思维方式是面向 API 或面向动作的。

+   REST 是面向资源的。

## **数据传输模式**

+   GRPC 仅支持使用协议缓冲区在服务器和客户端之间传输数据。

+   REST 支持 JSON、XML 和其他数据格式。REST 也可以很容易地与协议缓冲区一起使用。

## **模型**

+   GRPC 提供四种不同的客户端和服务器之间的通信方式。这四种方式是单一请求、服务器流、客户端流和双向流。因此，在 GRPC 中，客户端和服务器可以相互交谈。

    +   单一请求 – 这是最简单的一种。客户端发送请求，服务器发送响应。

    +   客户端流 – 客户端可以发送多个消息的流，而服务器只需对所有客户端请求返回单个响应。

    +   服务器流 – 客户端将只发送一条消息，而服务器可以向其发送消息流。

    +   双向流——客户端和服务器都可以流式传输多个消息。流式传输将并行进行且无顺序。此外，它是非阻塞的。客户端和服务器在发送下一个消息之前无需等待响应。

+   REST 工作基于请求-响应模型。基本上，你发送请求，然后收到响应。因此，REST 仅提供单向通信。在 REST 中，只有客户端与服务器进行交谈。

## **性能**

+   由于 GRPC 固有地使用 HTTP/2，因此所有应用于 HTTP/2 的性能优化自动适用于 GRPC。HTTP/2 引入了多项相较于 HTTP/1 的性能优化，例如

    +   双向流

    +   多路复用

    +   头部压缩

    +   等等

此外，GRPC 在内部使用协议缓冲区，由于协议缓冲区是二进制数据且体积较小，它们在网络上快速传输。GRPC 可以有效利用每个 TCP 连接。基于这两个原因，GRPC 非常快。

+   REST 在 HTTP/1 上的速度会比 GRPC 慢。它使用 JSON、XML 来表示相同的数据，所需大小超过协议缓冲区。

## **代码生成**

+   由于 GRPC 建立在协议缓冲区之上，因此提供了自动代码生成。事实上，使用协议缓冲区时，代码生成是使用 GRPC 的必备条件。

+   REST 也通过 Swagger、OPEN API 提供代码生成，但这只是提供的额外功能，并不如协议缓冲区的代码生成有效。

## **类型安全**

+   由于在 GRPC 的情况下使用协议缓冲区进行代码生成，因此在某种程度上为 GRPC 提供了类型安全。GRPC 不允许你为期望字符串的字段发送 int。API 契约由 proto 文件定义，并且是严格的。

+   REST 没有任何此类限制。API 契约大多数情况下只是使用 OPEN API 或 Swagger 的文档，因此比较松散。

## **设置**

+   GRPC 需要你在本地设置一个客户端，以能够进行 GRPC 调用。

+   REST 调用不需要客户端设置。你可以通过浏览器、Postman、curl 等进行调用。

## **何时使用**

+   GRPC 主要适用于需要低延迟和高吞吐量的内部微服务。目前不适合将你的服务暴露为 GRPC，因为没有可供外部服务集成的 API。未来当 GRPC 完全发展时，这可能会变得可行。

+   REST 更适合将你的 API 暴露给外部服务。

## **结论**

这些是 GRPC 和 REST 之间的一些主要区别。希望你喜欢这篇文章。请在评论中分享反馈。

注意：如果你有兴趣学习 Golang，我们有一个全面的 Golang 教程系列。请查看——[Golang 全面教程系列](https://golangbyexample.com/golang-comprehensive-tutorial/)。


