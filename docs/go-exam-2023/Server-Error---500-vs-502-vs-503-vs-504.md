<!--yml

分类：未分类

日期：2024-10-13 06:09:11

-->

# 服务器错误 – 500与502、503、504的区别

> 来源：[https://golangbyexample.com/server-error-5xx/](https://golangbyexample.com/server-error-5xx/)

目录

**[概述](#Overview "Overview")**

+   [500（内部服务器错误）](#500_Internal_Server_Error "500 (Internal Server Error)")

+   [502（错误网关）](#502_Bad_Gateway_Error "502 (Bad Gateway Error) ")

+   [503（服务不可用）](#503_Service_Unavailable "503 (Service Unavailable )")

+   [504（网关超时）](#504Gateway_Timeout "504(Gateway Timeout)") *  *# **概述**

所有5XX错误都是服务器错误。在本文中，我们将了解它们之间的区别。

在本文中，我们使用代理/网关服务器的术语。一些代理/网关服务器的示例包括：

+   nginx

+   AWS ELB

+   Cloudflare – 安全工具

+   API网关，例如kong

# **500（内部服务器错误）**

500表示内部服务器错误。当服务遇到意外错误时，可能会引发500。由于500纯粹是服务器错误，客户端应重试。

**一些情况：**

+   在应用层生成了未处理的异常，导致返回500。

+   应用服务器从数据库获得了无效响应，因此无法完成请求并引发500。

**如何解决：**

+   查看失败的500调用的堆栈跟踪

# **502（错误网关）**

502意味着在源服务器和客户端之间的代理/网关服务器从源服务器收到了意外响应。请注意，在这种情况下，代理/网关服务器确实得到了响应，但并不是预期的。例如，代理/网关服务器期待JSON，但却得到了HTML。这可能发生在以下情况中。

**一些情况：**

+   这种情况可能是由于防火墙阻止了代理/网关服务器与源服务器之间的连接。防火墙返回了代理/网关服务器无法理解的响应。

+   一些网络错误，例如路由问题和DNS错误，也可能导致502。

+   一些糟糕的编程也可能导致502。假设源服务器返回了一个无效的HTML主体，代理/网关服务器无法理解，从而返回502。

**如何解决：**

+   查看日志以找出导致502的上游错误响应。

+   重新加载页面

# **503（服务不可用）**

503表示服务器达到容量，无法处理更多请求，或者服务器当前不可用，因为正在维护。这通常是一种临时状态。一些情况可能是：

**一些情况：**

+   服务器达到容量，拒绝接受更多连接。网站流量超过其处理能力。

+   服务器崩溃，无法接受连接。

+   服务器处于维护模式。

**如何解决**

+   扩展您的服务器，因为它们已满载

+   检查你的服务器是否崩溃。

# **504（网关超时）**

504意味着代理服务器或网关在指定超时时间内未收到源服务器的响应。举个例子，假设有一个弹性负载均衡器位于源服务器和ELB之间，ELB在尝试从服务器接收响应时超时。一些情况可能是：

**一些情况：**

+   源服务器上的过多并发请求可能导致某些请求在指定时间内未完成，从而导致代理服务器端出现504错误。如果你持续看到504错误，这意味着代理服务器和源服务器之间可能存在网络问题。

+   当源服务器发生未处理的异常且未能正确返回500时，也可能出现504，此时它没有返回任何内容，导致代理服务器超时。在这种情况下，可能没有过多的并发请求，但仍然会发生超时。

+   网络错误也可能导致504。如果你持续收到504，并且在服务器端没有观察到异常，说明请求甚至未到达服务器，有很大可能是上游服务器因网络错误而超时。

**如何解决**

+   增加代理服务器端的超时时间。

+   扩展你的服务器，因为可能有过多的并发请求，导致服务器无法处理。

+   检查你的服务器端是否有错误，导致没有返回任何响应。

+   [500](https://golangbyexample.com/tag/500/)*   [502](https://golangbyexample.com/tag/502/)*   [503](https://golangbyexample.com/tag/503/)*   [504](https://golangbyexample.com/tag/504/)*   [服务器错误](https://golangbyexample.com/tag/server-error/)*
